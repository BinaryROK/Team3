import requests
import json
import requests
import pprint

import requests


base_url = "api.odcloud.kr/api"
endpoint = "http://" + base_url +"/15025486/v1/uddi:9c00cc56-4691-4093-aa52-82d9f4a883e3_201909201331" +"?"
#serviceKey = "serviceKey=l2Q9dvUn2KbVPRpoKz2/FXQEO26AxG0SGfSDnLCLoqpDwWMMFCAictbUgYXKOMlGGz8jPaOsjQ6ATpXFJiIOaQ==&"
serviceKey = "serviceKey=l2Q9dvUn2KbVPRpoKz2%2FFXQEO26AxG0SGfSDnLCLoqpDwWMMFCAictbUgYXKOMlGGz8jPaOsjQ6ATpXFJiIOaQ%3D%3D&"
pagenumber = 1
numOfRows = 10
URL = endpoint + serviceKey + "pageNo=" + str(pagenumber) + "&numOfRows=" + str(numOfRows) + "&type=json"
print(URL)

response = requests.get(URL)

if response.status_code == 200:
    data = response.content  # 응답 데이터의 바이트 문자열을 가져옵니다
    decoded_data = data.decode("utf-8")  # UTF-8로 디코딩합니다
    print(decoded_data)
else:
    print(f"API 요청 실패: {response.status_code} - {response.text}")



#{"currentCount":10,"data":[{"01시":0,"02시":0,"03시":0,"04시":0,"05시":0,"06시":0,"07시":0,"08시":0,"09시":547200,"10시":3484800,"11시":3350400,"12시":7929600,"13시":8697600,"14시":8236800,"15시":7344000,"16시":5155200,"17시":2131200,"18시":134400,"19시":0,"20시":0,"21시":0,"22시":0,"23시":0,"24시":0,"발전기명":"영암에프원태양광b","일자":"2017-01-01"},{"01시":0,"02시":0,"03시":0,"04시":0,"05시":0,"06시":0,"07시":0,"08시":0,"09시":345600,"10시":1948800,"11시":6211200,"12시":7334400,"13시":8332800,"14시":7286400,"15시":6355200,"16시":4512000,"17시":1584000,"18시":76800,"19시":0,"20시":0,"21시":0,"22시":0,"23시":0,"24시":0,"발전기명":"영암에프원태양광b","일자":"2017-01-02"},{"01시":0,"02시":0,"03시":0,"04시":0,"05시":0,"06시":0,"07시":0,"08시":0,"09시":960000,"10시":3465600,"11시":6288000,"12시":8371200,"13시":9148800,"14시":8784000,"15시":7411200,"16시":5356800,"17시":2332800,"18시":163200,"19시":0,"20시":0,"21시":0,"22시":0,"23시":0,"24시":0,"발전기명":"영암에프원태양광b","일자":"2017-01-03"},{"01시":0,"02시":0,"03시":0,"04시":0,"05시":0,"06시":0,"07시":0,"08시":9600,"09시":777600,"10시":2438400,"11시":3830400,"12시":5155200,"13시":6854400,"14시":7190400,"15시":4752000,"16시":3427200,"17시":1440000,"18시":67200,"19시":0,"20시":0,"21시":0,"22시":0,"23시":0,"24시":0,"발전기명":"영암에프원태양광b","일자":"2017-01-04"},{"01시":0,"02시":0,"03시":0,"04시":0,"05시":0,"06시":0,"07시":0,"08시":0,"09시":432000,"10시":1017600,"11시":1152000,"12시":1478400,"13시":1507200,"14시":1545600,"15시":1027200,"16시":969600,"17시":460800,"18시":38400,"19시":0,"20시":0,"21시":0,"22시":0,"23시":0,"24시":0,"발전기명":"영암에프원태양광b","일자":"2017-01-05"},{"01시":0,"02시":0,"03시":0,"04시":0,"05시":0,"06시":0,"07시":0,"08시":0,"09시":403200,"10시":3177600,"11시":3619200,"12시":3552000,"13시":5347200,"14시":5779200,"15시":4329600,"16시":5424000,"17시":2073600,"18시":192000,"19시":0,"20시":0,"21시":0,"22시":0,"23시":0,"24시":0,"발전기명":"영암에프원태양광b","일자":"2017-01-06"},{"01시":0,"02시":0,"03시":0,"04시":0,"05시":0,"06시":0,"07시":0,"08시":0,"09시":422400,"10시":1478400,"11시":2563200,"12시":2524800,"13시":4483200,"14시":2467200,"15시":1459200,"16시":710400,"17시":374400,"18시":9600,"19시":0,"20시":0,"21시":0,"22시":0,"23시":0,"24시":0,"발전기명":"영암에프원태양광b","일자":"2017-01-07"},{"01시":0,"02시":0,"03시":0,"04시":0,"05시":0,"06시":0,"07시":0,"08시":0,"09시":537600,"10시":1900800,"11시":2860800,"12시":4176000,"13시":7344000,"14시":8956800,"15시":7968000,"16시":3283200,"17시":1795200,"18시":192000,"19시":0,"20시":0,"21시":0,"22시":0,"23시":0,"24시":0,"발전기명":"영암에프원태양광b","일자":"2017-01-08"},{"01시":0,"02시":0,"03시":0,"04시":0,"05시":0,"06시":0,"07시":0,"08시":0,"09시":9600,"10시":777600,"11시":2976000,"12시":4464000,"13시":4377600,"14시":7689600,"15시":8304000,"16시":5164800,"17시":1718400,"18시":192000,"19시":0,"20시":0,"21시":0,"22시":0,"23시":0,"24시":0,"발전기명":"영암에프원태양광b","일자":"2017-01-09"},{"01시":0,"02시":0,"03시":0,"04시":0,"05시":0,"06시":0,"07시":0,"08시":0,"09시":268800,"10시":854400,"11시":3187200,"12시":2323200,"13시":3408000,"14시":8870400,"15시":5232000,"16시":4022400,"17시":1152000,"18시":96000,"19시":0,"20시":0,"21시":0,"22시":0,"23시":0,"24시":0,"발전기명":"영암에프원태양광b","일자":"2017-01-10"}],"matchCount":3826,"page":1,"perPage":10,"totalCount":3826}\n'
